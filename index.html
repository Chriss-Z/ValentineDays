<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Valentine's Day Proposal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet" />
    <style>
      body {
        font-family: "Dancing Script", cursive;
        background: linear-gradient(135deg, #ffd1dc, #f5f5dc);
        color: #b76e79;
        overflow-x: hidden;
      }
      .heart {
        position: absolute;
        color: #ff69b4;
        font-size: 20px;
        animation: float 6s linear infinite;
        opacity: 0.7;
      }
      @keyframes float {
        0% {
          transform: translateY(100vh) rotate(0deg);
        }
        100% {
          transform: translateY(-100px) rotate(360deg);
        }
      }
      .fade-out {
        animation: fadeOut 1s ease-out forwards;
      }
      @keyframes fadeOut {
        to {
          opacity: 0;
          visibility: hidden;
        }
      }
      .fade-in {
        animation: fadeIn 1s ease-in forwards;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      .polaroid {
        background: white;
        padding: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transform: rotate(-5deg);
        transition: transform 0.3s ease;
      }
      .polaroid:hover {
        transform: rotate(0deg) scale(1.05);
      }
      .polaroid img {
        width: 200px;
        height: 200px;
        object-fit: cover;
      }
      /* Khusus Gallery */
      .gallery-polaroid img {
        width: 100%;
        height: auto;
        object-fit: contain;
        max-height: 400px;
      }

      .polaroid p {
        text-align: center;
        margin-top: 10px;
        font-size: 1em;
      }
      .confetti {
        position: absolute;
        width: 10px;
        height: 10px;
        background: #ff69b4;
        animation: confetti-fall 3s linear infinite;
      }
      @keyframes confetti-fall {
        0% {
          transform: translateY(-100vh) rotate(0deg);
        }
        100% {
          transform: translateY(100vh) rotate(360deg);
        }
      }
      .sticky-nav {
        position: sticky;
        top: 0;
        z-index: 10;
      }
      .nav-link {
        transition: color 0.3s ease;
      }
      .nav-link:hover {
        color: #ffd1dc;
      }
      @media (max-width: 768px) {
        .polaroid img {
          width: 150px;
          height: 150px;
        }
      }
    </style>
  </head>
  <body class="relative min-h-screen">
    <!-- Landing Page -->
    <div id="landing" class="flex flex-col items-center justify-center min-h-screen text-center fade-in">
      <h1 class="text-5xl md:text-7xl mb-8 text-shadow-lg">Will you be my Valentine?</h1>
      <div class="flex space-x-4">
        <button id="yes" class="bg-[#FFD1DC] text-[#B76E79] px-8 py-4 rounded-full border-2 border-[#B76E79] text-2xl hover:bg-[#B76E79] hover:text-white transition-all duration-300">Yes</button>
        <button id="no" class="bg-[#FFD1DC] text-[#B76E79] px-8 py-4 rounded-full border-2 border-[#B76E79] text-2xl hover:bg-[#B76E79] hover:text-white transition-all duration-300 relative">No</button>
      </div>
    </div>

    <!-- Main Page -->
    <div id="main" class="hidden flex flex-col min-h-screen">
      <!-- Sticky Navigation Bar -->
      <nav class="sticky-nav bg-[#FFD1DC] p-4 shadow-md">
        <div class="container mx-auto flex justify-between items-center">
          <h2 class="text-2xl text-[#B76E79]">Our Love Story</h2>
          <ul class="flex space-x-6">
            <li><a href="#home" class="nav-link text-[#B76E79] text-lg">Home</a></li>
            <li><a href="#gallery" class="nav-link text-[#B76E79] text-lg">Gallery</a></li>
            <li><a href="#music" class="nav-link text-[#B76E79] text-lg">Music</a></li>
          </ul>
        </div>
      </nav>

      <!-- Home Section -->
      <section id="home" class="flex flex-col items-center justify-center py-20 bg-gradient-to-b from-[#FFD1DC] to-[#F5F5DC] text-center">
        <h1 class="text-4xl md:text-6xl mb-4 text-[#B76E79]">Yay! You said Yes! ðŸ’–</h1>
        <p class="text-xl md:text-2xl text-[#B76E79] mb-8">Happy Valentine's Day, my love! Every moment with you is a treasure.</p>
        <div class="flex flex-wrap justify-center">
          <div class="polaroid m-4">
            <img src="img/IMG_1.jpg" alt="Us Together" />
            <p>Forever and always</p>
          </div>
          <div class="polaroid m-4">
            <img src="#1.jpg" alt="Romantic Walk" />
            <p>Our walks in the park</p>
          </div>
        </div>
      </section>

      <!-- Gallery Section -->
      <section id="gallery" class="py-20 bg-[#F5F5DC]">
        <div class="container mx-auto text-center">
          <h2 class="text-3xl md:text-5xl mb-10 text-[#B76E79]">Our Memories</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <div class="polaroid gallery-polaroid">
              <img src="img/IMG_3.jpg" alt="Memory 1" />
              <p>Our first date</p>
            </div>
            <div class="polaroid gallery-polaroid">
              <img src="img/IMG_4.jpg" alt="Memory 2" />
              <p>Picnic in the park</p>
            </div>
            <div class="polaroid gallery-polaroid">
              <img src="img/IMG_5.jpg" alt="Memory 3" />
              <p>Starry night</p>
            </div>
            <div class="polaroid gallery-polaroid">
              <img src="img/IMG_6.jpg" alt="Memory 4" />
              <p>Adventures together</p>
            </div>
            <div class="polaroid gallery-polaroid">
              <img src="Img/IMG_7.jpg" alt="Memory 5" />
              <p>Laughing moments</p>
            </div>
            <div class="polaroid gallery-polaroid">
              <img src="Img/IMG_8.jpg" alt="Memory 6" />
              <p>Candlelit dinners</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Music Library Section -->
      <section id="music" class="py-20 bg-[#FFD1DC] text-center">
        <h2 class="text-3xl md:text-5xl mb-10 text-[#B76E79]">Our Favorite Songs</h2>
        <div class="container mx-auto">
          <audio id="audioPlayer" controls autoplay class="mx-auto mb-4">
            <source id="audioSource" src="bestpart.mp3" type="audio/wav" />
            Your browser does not support the audio element.
          </audio>
          <div class="flex justify-center space-x-4 mb-4">
            <button id="prevBtn" class="bg-[#B76E79] text-white px-4 py-2 rounded-full hover:bg-[#FFD1DC] hover:text-[#B76E79]">Previous</button>
            <button id="playPauseBtn" class="bg-[#B76E79] text-white px-4 py-2 rounded-full hover:bg-[#FFD1DC] hover:text-[#B76E79]">Pause</button>
            <button id="nextBtn" class="bg-[#B76E79] text-white px-4 py-2 rounded-full hover:bg-[#FFD1DC] hover:text-[#B76E79]">Next</button>
          </div>
          <ul id="playlist" class="text-[#B76E79] text-lg">
            <li data-src="bestpart.mp3">Song 1: Best Part - Daniel Caesar</li>
            <li data-src="Mine.mp3">Song 2: Mine - Petra Sihombing</li>
            <li data-src="BeutifulThing.mp3">Song 3: The Most Beautiful Thing - Bruno Major</li>
          </ul>
        </div>
      </section>
    </div>

    <script>
      // Declare elements at the top to avoid redeclaration errors
      const noButton = document.getElementById("no");
      const landing = document.getElementById("landing");
      const yesButton = document.getElementById("yes");
      const main = document.getElementById("main");
      const audioPlayer = document.getElementById("audioPlayer");
      const audioSource = document.getElementById("audioSource");
      const playPauseBtn = document.getElementById("playPauseBtn");
      const prevBtn = document.getElementById("prevBtn");
      const nextBtn = document.getElementById("nextBtn");
      const playlist = document.querySelectorAll("#playlist li");
      let currentSongIndex = 0;

      // Floating hearts
      function createHeart() {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.innerHTML = "â¤ï¸";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDelay = Math.random() * 6 + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 6000);
      }
      setInterval(createHeart, 1000);

      // No button fleeing
      noButton.addEventListener("mouseover", () => {
        const landingRect = landing.getBoundingClientRect();
        const buttonRect = noButton.getBoundingClientRect();
        let newLeft, newTop;
        do {
          newLeft = Math.random() * (landingRect.width - buttonRect.width);
          newTop = Math.random() * (landingRect.height - buttonRect.height);
        } while (Math.abs(newLeft - buttonRect.left) < 50 || Math.abs(newTop - buttonRect.top) < 50);
        noButton.style.position = "absolute";
        noButton.style.left = newLeft + "px";
        noButton.style.top = newTop + "px";
      });

      // Yes button confetti and transition
      yesButton.addEventListener("click", () => {
        // Confetti animation
        for (let i = 0; i < 100; i++) {
          const confetti = document.createElement("div");
          confetti.className = "confetti";
          confetti.style.left = Math.random() * 100 + "vw";
          confetti.style.animationDelay = Math.random() * 3 + "s";
          confetti.style.background = ["#FF69B4", "#FFD1DC", "#B76E79", "#F5F5DC"][Math.floor(Math.random() * 4)];
          document.body.appendChild(confetti);
          setTimeout(() => confetti.remove(), 3000);
        }
        // Transition
        setTimeout(() => {
          landing.classList.add("fade-out");
          setTimeout(() => {
            landing.style.display = "none";
            main.classList.remove("hidden");
            main.classList.add("fade-in");
            loadSong(0);
          }, 1000);
        }, 1000);
      });

      // Music Player Logic
      function loadSong(index) {
        audioSource.src = playlist[index].dataset.src;
        audioPlayer.load();
        audioPlayer.play();
        playPauseBtn.textContent = "Pause";
      }

      playPauseBtn.addEventListener("click", () => {
        if (audioPlayer.paused) {
          audioPlayer.play();
          playPauseBtn.textContent = "Pause";
        } else {
          audioPlayer.pause();
          playPauseBtn.textContent = "Play";
        }
      });

      prevBtn.addEventListener("click", () => {
        currentSongIndex = (currentSongIndex - 1 + playlist.length) % playlist.length;
        loadSong(currentSongIndex);
      });

      nextBtn.addEventListener("click", () => {
        currentSongIndex = (currentSongIndex + 1) % playlist.length;
        loadSong(currentSongIndex);
      });

      playlist.forEach((item, index) => {
        item.addEventListener("click", () => {
          currentSongIndex = index;
          loadSong(index);
        });
      });

      // Auto-play on page load (for main page, but since it's hidden, perhaps on transition)
      // Note: Browsers may block autoplay; this is a placeholder.
      // To make it auto-play upon entry, we can trigger on main fade-in, but for simplicity, it's set to autoplay in HTML.
    </script>
  </body>
</html>
